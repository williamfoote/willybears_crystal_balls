/*! Dust - Asynchronous Templating - v2.6.3
* http://linkedin.github.io/dustjs/
* Copyright (c) 2016 Aleksander Williams; Released under the MIT License */
!function(e,t){"function"==typeof define&&define.amd&&!0===define.amd.dust?define("dust.core",[],t):"object"==typeof exports?module.exports=t():e.dust=t()}(this,function(){var f,HCHARS,AMP,LT,GT,QUOT,SQUOT,BS,FS,CR,LS,PS,NL,LF,SQ,DQ,TB,dust={version:"2.6.3"},NONE="NONE",ERROR="ERROR",WARN="WARN",INFO="INFO",DEBUG="DEBUG",EMPTY_FUNC=function(){},c,d,b;function Context(e,t,r,n){this.stack=e,this.global=t,this.blocks=r,this.templateName=n}function getWithResolvedData(e,t,r){return function(n){return e.push(n)._get(t,r)}}function Stack(e,t,r,n){this.tail=t,this.isObject=e&&"object"==typeof e,this.head=e,this.index=r,this.of=n}function Stub(e){this.head=new Chunk(this),this.callback=e,this.out=""}function Stream(){this.head=new Chunk(this)}function Chunk(e,t,r){this.root=e,this.next=t,this.data=[],this.flushable=!1,this.taps=r}for(f in dust.config={whitespace:!1,amd:!1},dust._aliases={write:"w",end:"e",map:"m",render:"r",reference:"f",section:"s",exists:"x",notexists:"nx",block:"b",partial:"p",helper:"h"},b={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4},"undefined"!=typeof console&&console.log?(c=console.log,d="function"==typeof c?function(){c.apply(console,arguments)}:function(){c(Array.prototype.slice.apply(arguments).join(" "))}):d=EMPTY_FUNC,dust.log=function(e,t){b[t=t||INFO]>=b[dust.debugLevel]&&d("[DUST:"+t+"]",e)},dust.debugLevel=NONE,"undefined"!=typeof process&&process.env&&/\bdust\b/.test(process.env.DEBUG)&&(dust.debugLevel=DEBUG),dust.helpers={},dust.cache={},dust.register=function(e,t){e&&(dust.cache[e]=t)},dust.render=function(e,t,r){var n=new Stub(r).head;try{dust.load(e,n,Context.wrap(t,e)).end()}catch(o){n.setError(o)}},dust.stream=function(e,t){var r=new Stream,n=r.head;return dust.nextTick(function(){try{dust.load(e,r.head,Context.wrap(t,e)).end()}catch(o){n.setError(o)}}),r},dust.renderSource=function(e,t,r){return dust.compileFn(e)(t,r)},dust.compileFn=function(e,t){t=t||null;var r=dust.loadSource(dust.compile(e,t));return function(e,n){var o=n?new Stub(n):new Stream;return dust.nextTick(function(){"function"==typeof r?r(o.head,Context.wrap(e,t)).end():dust.log(new Error("Template `"+t+"` could not be loaded"),ERROR)}),o}},dust.load=function(e,t,r){var n=dust.cache[e];return n?n(t,r):dust.onLoad?t.map(function(t){dust.onLoad(e,function(n,o){if(n)return t.setError(n);dust.cache[e]||dust.loadSource(dust.compile(o,e)),dust.cache[e](t,r).end()})}):t.setError(new Error("Template Not Found: "+e))},dust.loadSource=function(source,path){return eval(source)},Array.isArray?dust.isArray=Array.isArray:dust.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},dust.nextTick=function(e){setTimeout(e,0)},dust.isEmpty=function(e){return 0!==e&&(!(!dust.isArray(e)||e.length)||!e)},dust.isEmptyObject=function(e){var t;if(null===e)return!1;if(e===undefined)return!1;if(e.length>0)return!1;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},dust.isThenable=function(e){return e&&"object"==typeof e&&"function"==typeof e.then},dust.filter=function(e,t,r){var n,o,i;if(r)for(n=0,o=r.length;n<o;n++)"s"===(i=r[n])?t=null:"function"==typeof dust.filters[i]?e=dust.filters[i](e):dust.log("Invalid filter `"+i+"`",WARN);return t&&(e=dust.filters[t](e)),e},dust.filters={h:function(e){return dust.escapeHtml(e)},j:function(e){return dust.escapeJs(e)},u:encodeURI,uc:encodeURIComponent,js:function(e){return dust.escapeJSON(e)},jp:function(e){return JSON?JSON.parse(e):(dust.log("JSON is undefined; could not parse `"+e+"`",WARN),e)}},dust.makeBase=function(e){return new Context(new Stack,e)},Context.wrap=function(e,t){return e instanceof Context?e:new Context(new Stack(e),{},null,t)},Context.prototype.get=function(e,t){return"string"==typeof e&&("."===e[0]&&(t=!0,e=e.substr(1)),e=e.split(".")),this._get(t,e)},Context.prototype._get=function(e,t){var r,n,o,i,s,a=this.stack||{},u=1;if(n=t[0],o=t.length,e&&0===o)i=a,a=a.head;else{if(e)a&&(a=a.head?a.head[n]:undefined);else{for(;a&&(!a.isObject||(i=a.head,(r=a.head[n])===undefined));)a=a.tail;a=r!==undefined?r:this.global?this.global[n]:undefined}for(;a&&u<o;){if(dust.isThenable(a))return a.then(getWithResolvedData(this,e,t.slice(u)));i=a,a=a[t[u]],u++}}return"function"==typeof a?((s=function(){try{return a.apply(i,arguments)}catch(e){throw dust.log(e,ERROR),e}}).__dustBody=!!a.__dustBody,s):(a===undefined&&dust.log("Cannot find reference `{"+t.join(".")+"}` in template `"+this.getTemplateName()+"`",INFO),a)},Context.prototype.getPath=function(e,t){return this._get(e,t)},Context.prototype.push=function(e,t,r){return new Context(new Stack(e,this.stack,t,r),this.global,this.blocks,this.getTemplateName())},Context.prototype.pop=function(){var e=this.current();return this.stack=this.stack&&this.stack.tail,e},Context.prototype.rebase=function(e){return new Context(new Stack(e),this.global,this.blocks,this.getTemplateName())},Context.prototype.clone=function(){var e=this.rebase();return e.stack=this.stack,e},Context.prototype.current=function(){return this.stack&&this.stack.head},Context.prototype.getBlock=function(e,t,r){var n,o,i;if("function"==typeof e&&(e=e(new Chunk,this).data.join("")),!(n=this.blocks))return dust.log("No blocks for context `"+e+"` in template `"+this.getTemplateName()+"`",DEBUG),!1;for(o=n.length;o--;)if(i=n[o][e])return i;return dust.log("Malformed template `"+this.getTemplateName()+"` was missing one or more blocks."),!1},Context.prototype.shiftBlocks=function(e){var t,r=this.blocks;return e?(t=r?r.concat([e]):[e],new Context(this.stack,this.global,t,this.getTemplateName())):this},Context.prototype.resolve=function(e){var t;return"function"!=typeof e?e:(t=(new Chunk).render(e,this),e.__dustBody?t.data.join(""):t)},Context.prototype.getTemplateName=function(){return this.templateName},Stub.prototype.flush=function(){for(var e=this.head;e;){if(!e.flushable)return e.error?(this.callback(e.error),dust.log("Rendering failed with error `"+e.error+"`",ERROR),void(this.flush=EMPTY_FUNC)):void 0
;this.out+=e.data.join(""),e=e.next,this.head=e}this.callback(null,this.out)},Stream.prototype.flush=function(){for(var e=this.head;e;){if(!e.flushable)return e.error?(this.emit("error",e.error),dust.log("Streaming failed with error `"+e.error+"`",ERROR),void(this.flush=EMPTY_FUNC)):void 0;this.emit("data",e.data.join("")),e=e.next,this.head=e}this.emit("end")},Stream.prototype.emit=function(e,t){var r,n,o=(this.events||{})[e]||[];if(o.length)for(r=0,n=(o=o.slice(0)).length;r<n;r++)o[r](t);else dust.log("Stream broadcasting, but no listeners for `"+e+"`",DEBUG)},Stream.prototype.on=function(e,t){var r=this.events=this.events||{},n=r[e]=r[e]||[];return"function"!=typeof t?dust.log("No callback function provided for `"+e+"` event listener",WARN):n.push(t),this},Stream.prototype.pipe=function(e){return this.on("data",function(t){try{e.write(t,"utf8")}catch(r){dust.log(r,ERROR)}}).on("end",function(){try{e.end()}catch(t){dust.log(t,ERROR)}}).on("error",function(t){e.error(t)})},Chunk.prototype.write=function(e){var t=this.taps;return t&&(e=t.go(e)),this.data.push(e),this},Chunk.prototype.end=function(e){return e&&this.write(e),this.flushable=!0,this.root.flush(),this},Chunk.prototype.map=function(e){var t=new Chunk(this.root,this.next,this.taps),r=new Chunk(this.root,t,this.taps);this.next=r,this.flushable=!0;try{e(r)}catch(n){dust.log(n,ERROR),r.setError(n)}return t},Chunk.prototype.tap=function(e){var t=this.taps;return this.taps=t?t.push(e):new Tap(e),this},Chunk.prototype.untap=function(){return this.taps=this.taps.tail,this},Chunk.prototype.render=function(e,t){return e(this,t)},Chunk.prototype.reference=function(e,t,r,n){return"function"==typeof e&&(e=e.apply(t.current(),[this,t,null,{auto:r,filters:n}]))instanceof Chunk?e:dust.isThenable(e)?this.await(e,t):dust.isEmpty(e)?this:this.write(dust.filter(e,r,n))},Chunk.prototype.section=function(e,t,r,n){var o,i,s=r.block,a=r["else"],u=this;if("function"==typeof e&&!e.__dustBody){try{e=e.apply(t.current(),[this,t,r,n])}catch(c){return dust.log(c,ERROR),this.setError(c)}if(e instanceof Chunk)return e}if(n&&!dust.isEmptyObject(n)&&(t=t.push(n)),dust.isArray(e)){if(s){if((i=e.length)>0){for(t.stack.head&&(t.stack.head.$len=i),o=0;o<i;o++)t.stack.head&&(t.stack.head.$idx=o),u=s(u,t.push(e[o],o,i));return t.stack.head&&(t.stack.head.$idx=undefined,t.stack.head.$len=undefined),u}if(a)return a(this,t)}}else{if(dust.isThenable(e))return this.await(e,t,r);if(!0===e){if(s)return s(this,t)}else if(e||0===e){if(s)return s(this,t.push(e))}else if(a)return a(this,t)}return dust.log("Section without corresponding key in template `"+t.getTemplateName()+"`",DEBUG),this},Chunk.prototype.exists=function(e,t,r){var n=r.block,o=r["else"];if(dust.isEmpty(e)){if(o)return o(this,t)}else{if(n)return n(this,t);dust.log("No block for exists check in template `"+t.getTemplateName()+"`",DEBUG)}return this},Chunk.prototype.notexists=function(e,t,r){var n=r.block,o=r["else"];if(dust.isEmpty(e)){if(n)return n(this,t);dust.log("No block for not-exists check in template `"+t.getTemplateName()+"`",DEBUG)}else if(o)return o(this,t);return this},Chunk.prototype.block=function(e,t,r){var n=e||r.block;return n?n(this,t):this},Chunk.prototype.partial=function(e,t,r){var n;return r&&!dust.isEmptyObject(r)&&(n=(t=t.clone()).pop(),t=t.push(r).push(n)),e.__dustBody||"function"==typeof e?this.capture(e,t,function(e,r){t.templateName=e,dust.load(e,r,t).end()}):(t.templateName=e,dust.load(e,this,t))},Chunk.prototype.helper=function(e,t,r,n){var o,i=this;if(!dust.helpers[e])return dust.log("Helper `"+e+"` does not exist",WARN),i;try{return o=dust.helpers[e](i,t,r,n),dust.isThenable(o)?this.await(o,t,r):o}catch(s){return dust.log("Error in helper `"+e+"`: "+s.message,ERROR),i.setError(s)}},Chunk.prototype.await=function(e,t,r){var n=r&&r.block,o=r&&r.error;return this.map(function(r){e.then(function(e){n?r.render(n,t.push(e)).end():r.end(e)},function(e){o?r.render(o,t.push(e)).end():(dust.log("Unhandled promise rejection in `"+t.getTemplateName()+"`"),r.end())})})},Chunk.prototype.capture=function(e,t,r){return this.map(function(n){var o=new Stub(function(e,t){e?n.setError(e):r(t,n)});e(o.head,t).end()})},Chunk.prototype.setError=function(e){return this.error=e,this.root.flush(),this},Chunk.prototype)dust._aliases[f]&&(Chunk.prototype[dust._aliases[f]]=Chunk.prototype[f]);function Tap(e,t){this.head=e,this.tail=t}return Tap.prototype.push=function(e){return new Tap(e,this)},Tap.prototype.go=function(e){for(var t=this;t;)e=t.head(e),t=t.tail;return e},HCHARS=/[&<>"']/,AMP=/&/g,LT=/</g,GT=/>/g,QUOT=/\"/g,SQUOT=/\'/g,dust.escapeHtml=function(e){return"string"==typeof e||e&&"function"==typeof e.toString?("string"!=typeof e&&(e=e.toString()),HCHARS.test(e)?e.replace(AMP,"&amp;").replace(LT,"&lt;").replace(GT,"&gt;").replace(QUOT,"&quot;").replace(SQUOT,"&#39;"):e):e},BS=/\\/g,FS=/\//g,CR=/\r/g,LS=/\u2028/g,PS=/\u2029/g,NL=/\n/g,LF=/\f/g,SQ=/'/g,DQ=/"/g,TB=/\t/g,dust.escapeJs=function(e){return"string"==typeof e?e.replace(BS,"\\\\").replace(FS,"\\/").replace(DQ,'\\"').replace(SQ,"\\'").replace(CR,"\\r").replace(LS,"\\u2028").replace(PS,"\\u2029").replace(NL,"\\n").replace(LF,"\\f").replace(TB,"\\t"):e},dust.escapeJSON=function(e){return JSON?JSON.stringify(e).replace(LS,"\\u2028").replace(PS,"\\u2029").replace(LT,"\\u003c"):(dust.log("JSON is undefined; could not escape `"+e+"`",WARN),e)},dust}),"function"==typeof define&&define.amd&&!0===define.amd.dust&&define(["require","dust.core"],function(e,t){return t.onLoad=function(t,r){e([t],function(){r()})},t}),function(dust){var helpers,_console="undefined"!=typeof console?console:{log:function(){}};function isSelect(e){var t=e.current();return"object"==typeof t&&!0===t.isSelect}function jsonFilter(e,t){return"function"==typeof t?t.toString():t}function filter(e,t,r,n,o){n=n||{};var i,s=r.block,a=n.filterOpType||"";if("undefined"!=typeof n.key)i=dust.helpers.tap(n.key,e,t);else{
if(!isSelect(t))return _console.log("No key specified for filter in:"+a+" helper "),e;i=t.current().selectKey,t.current().isResolved&&(o=function(){return!1})}return o(coerce(dust.helpers.tap(n.value,e,t),n.type,t),coerce(i,n.type,t))?(isSelect(t)&&(t.current().isResolved=!0),s?e.render(s,t):(_console.log("Missing body block in the "+a+" helper "),e)):r["else"]?e.render(r["else"],t):e}function coerce(e,t,r){if(e)switch(t||typeof e){case"number":return+e;case"string":return String(e);case"boolean":return e="false"!==e&&e,Boolean(e);case"date":return new Date(e);case"context":return r.get(e)}return e}helpers={tap:function(e,t,r){var n=e;return"function"==typeof e&&(!0===e.isFunction?n=e():(n="",t.tap(function(e){return n+=e,""}).render(e,r).untap(),""===n&&(n=!1))),n},sep:function(e,t,r){var n=r.block;return t.stack.index===t.stack.of-1?e:n?r.block(e,t):e},idx:function(e,t,r){return r.block?r.block(e,t.push(t.stack.index)):e},contextDump:function(e,t,r,n){var o,i=n||{},s=i.to||"output",a=i.key||"current";return s=dust.helpers.tap(s,e,t),o="full"===(a=dust.helpers.tap(a,e,t))?JSON.stringify(t.stack,jsonFilter,2):JSON.stringify(t.stack.head,jsonFilter,2),"console"===s?(_console.log(o),e):e.write(o)},"if":function(chunk,context,bodies,params){var cond,body=bodies.block,skip=bodies["else"];if(params&&params.cond){if(cond=params.cond,cond=dust.helpers.tap(cond,chunk,context),eval(cond))return body?chunk.render(bodies.block,context):(_console.log("Missing body block in the if helper!"),chunk);if(skip)return chunk.render(bodies["else"],context)}else _console.log("No condition given in the if helper!");return chunk},math:function(e,t,r,n){if(n&&"undefined"!=typeof n.key&&n.method){var o=n.key,i=n.method,s=n.operand,a=n.round,u=null;switch(o=dust.helpers.tap(o,e,t),s=dust.helpers.tap(s,e,t),i){case"mod":0!==s&&-0!==s||_console.log("operand for divide operation is 0/-0: expect Nan!"),u=parseFloat(o)%parseFloat(s);break;case"add":u=parseFloat(o)+parseFloat(s);break;case"subtract":u=parseFloat(o)-parseFloat(s);break;case"multiply":u=parseFloat(o)*parseFloat(s);break;case"divide":0!==s&&-0!==s||_console.log("operand for divide operation is 0/-0: expect Nan/Infinity!"),u=parseFloat(o)/parseFloat(s);break;case"ceil":u=Math.ceil(parseFloat(o));break;case"floor":u=Math.floor(parseFloat(o));break;case"round":u=Math.round(parseFloat(o));break;case"abs":u=Math.abs(parseFloat(o));break;default:_console.log("method passed is not supported")}return null!==u?(a&&(u=Math.round(u)),r&&r.block?e.render(r.block,t.push({isSelect:!0,isResolved:!1,selectKey:u})):e.write(u)):e}return _console.log("Key is a required parameter for math helper along with method/operand!"),e},select:function(e,t,r,n){var o,i=r.block;return n&&"undefined"!=typeof n.key?(o=dust.helpers.tap(n.key,e,t),i?e.render(r.block,t.push({isSelect:!0,isResolved:!1,selectKey:o})):(_console.log("Missing body block in the select helper "),e)):(_console.log("No key given in the select helper!"),e)},eq:function(e,t,r,n){return n&&(n.filterOpType="eq"),filter(e,t,r,n,function(e,t){return t===e})},ne:function(e,t,r,n){return n?(n.filterOpType="ne",filter(e,t,r,n,function(e,t){return t!==e})):e},lt:function(e,t,r,n){if(n)return n.filterOpType="lt",filter(e,t,r,n,function(e,t){return t<e})},lte:function(e,t,r,n){return n?(n.filterOpType="lte",filter(e,t,r,n,function(e,t){return t<=e})):e},gt:function(e,t,r,n){return n?(n.filterOpType="gt",filter(e,t,r,n,function(e,t){return t>e})):e},gte:function(e,t,r,n){return n?(n.filterOpType="gte",filter(e,t,r,n,function(e,t){return t>=e})):e},"default":function(e,t,r,n){return n&&(n.filterOpType="default"),filter(e,t,r,n,function(e,t){return!0})},size:function(e,t,r,n){var o,i,s,a=0;if((o=(n=n||{}).key)&&!0!==o)if(dust.isArray(o))a=o.length;else if(!isNaN(parseFloat(o))&&isFinite(o))a=o;else if("object"==typeof o){for(s in i=0,o)Object.hasOwnProperty.call(o,s)&&i++;a=i}else a=(o+"").length;else a=0;return e.write(a)}},dust.helpers=helpers}("undefined"!=typeof exports?module.exports=require("dustjs-linkedin"):dust),YUI.add("dust",function(e,t){!function(){"use strict";var t,r,n;function o(){return DARLA.inProgress()}t={adsBase:function(){return function(e){return e.write("\x3c!-- adsBase: Client-Side ads-helpers.js executed --\x3e"),e}},ads:function(e){return function(t,r,n,i){var s,a,u,c,l,d,p=i.pos,f=i.spaceid||"",h=[];return""===p?(t.end("\x3c!-- ads: Client-Side ads-helpers.js executed --\x3e"),!0):(""===f&&(s=r.get("config"),h=r.get("context"),f=e.Af.HelperUtil.getSpaceId(h,s)),a=t,u="yom-ad-"+p+"-iframe",null===document.getElementById(u)&&a.write("<div id="+u+"></div>"),c=p,l=f,d=null,!window.DARLA_CONFIG||!window.DARLA||!DARLA_CONFIG.hasOwnProperty("events")||!DARLA_CONFIG.events.hasOwnProperty("darla_td")||(d=DARLA_CONFIG.events.darla_td,o()&&DARLA.abort(),o()||(d.ps=c,d.name="darla_td",d.sp=l,DARLA.add(d))),t.write("\x3c!-- ads: Client-Side ads-helpers.js executed --\x3e"),t)}}},r=dust,(n=e).Object.each(t,function(e,o){r.helpers[o]=t[o](n)})}(),function(){"use strict";var e,t;function r(e){e.helpers.date=t(e)}t=function(){return function(t,r,n,o){var i,s,a,u,c,l,d,p,f,h,y=e||moment;return(o=o||{}).val?(o.format||(o.format="ll"),i=y(o.val),i="fromNow"===o.format?i.fromNow():o.hasOwnProperty("zone")?(s=i,a=o.zone,null!=a?("number"==typeof a&&(a=-a),s.utcOffset(a,u),s):-s.utcOffset()).format(o.format):i.format(o.format),c=t,l=r,p=o,f=i,(d=n)&&d.block?((h={})[p._name||"selectKey"]=f,c.render(d.block,l.push(h))):c.write(f),c):(console.log("[moment helper] val is a required parameter."),t)}},"undefined"!=typeof exports?module.exports=function(t){e=require("moment"),r(t)}:r(dust)}(),function(){"use strict";var e=function(e){return function(t,r,n,o){var i,s=null;for(i in o)o.hasOwnProperty(i)&&(o[i]=e.helpers.tap(o[i],t,r))
;if("undefined"!=typeof o.index&&o.array&&o.array[o.index])s=o.array[o.index];else if("undefined"!=typeof o.val&&"undefined"!=typeof o.key&&o.array)for(i in o.array)o.array.hasOwnProperty(i)&&"undefined"!=typeof o.array[i][o.key]&&o.array[i][o.key]===o.val&&(s=o.array[i]);return s?t.render(n.block,r.push(s)):(console.error("[deref helper] incorrect params provided"),t)}};function t(t){t.helpers.deref=e(t)}"undefined"!=typeof exports?module.exports=function(e){t(e)}:t(dust)}(),function(){"use strict";var e,t;function r(e){e.helpers.duration=t(e)}t=function(t){return function(r,n,o,i){if(!i)return console.log("[duration helper] we need parameters!"),r;var s,a,u,c,l=e||moment,d="",p=t.helpers.tap(i.delimiter,r,n)||":",f=t.helpers.tap(i.val,r,n)||0,h=t.helpers.tap(i.format,r,n),y=l.duration(Number(f),"seconds");return f?isNaN(Number(f))?(console.log("[duration helper] val has to be a valid number in seconds."),r):("iso8601"===h?d="PY"+y.years()+"M"+y.months()+"D"+y.days()+"TH"+y.hours()+"M"+y.minutes()+"S"+y.seconds():(s=(s=y.days())?s+p:"",a=y.hours(),d=s+(a=s&&a<10?"0"+a+p:a>0?a+p:"")+(u=(u=y.minutes())<10&&a?"0"+u+p:u+p)+(c=(c=y.seconds())<10?"0"+c:c)),r.write(d)):(console.log("[duration helper] duration is a required parameter."),r)}},"undefined"!=typeof exports?module.exports=function(t){e=require("moment"),r(t)}:r(dust)}(),function(){"use strict";var e;function t(t){var r;for(r in e)e.hasOwnProperty(r)&&(t.helpers[r]=e[r](t))}e={i18n_string:function(){return function(e,t,r,n){var o,i,s,a,u,c,l=function(e,t,r){var n={template:"",params:{}},o=r.get("i18n");try{if(n.params=function(e,t,r){var n,o,i,s=function(e){return i+=e,""};for(o in e)e.hasOwnProperty(o)&&(n=o.replace(/v([0-9])*/,"$1"),"function"==typeof e[o]?(i="",t.tap(s).render(e[o],r).untap(),e[n]=i):e[n]=e[o]);return e}(e,t,r),!o[n.params._key])return{template:"\x3c!-- err i18n:"+n.params._key+" not found --\x3e",params:{}};n.template=o[n.params._key]}catch(i){}return n}(n,e,t);return o=e,i=t,s=r,a=n,u=function(e,t){var r;for(r in t)t.hasOwnProperty(r)&&(e=e.replace("{"+r+"}",t[r]));return e}(l.template,l.params),s&&s.block?((c={})[a._name||"selectKey"]=u,o.render(s.block,i.push(c))):o.write(u),o}},l10n_datetime:function(e){return function(t,r,n,o){var i=e.helpers.tap(o.value,t,r),s=new Date(1e3*i);return t.write(s.toLocaleString())}}},"undefined"!=typeof exports?module.exports=function(e){t(e)}:t(dust)}(),function(){"use strict";function e(e,t){if(!e)return undefined;var r,n=t.length;for(r=0;e!==undefined&&r<n;r+=1)e=e[t[r]];return e}function t(){return"undefined"!=typeof exports}var r=function(r){return function(n,o,i,s){var a,u,c,l,d,p,f,h="",y=!1,m="ImageLoader",g=m,k=o.get("context")||{},w=(l=k,p=!1,t()?p=l.ssl&&"0"!==l.ssl:(d=e(document,["location","protocol"]))&&-1!==d.indexOf("https")&&(p=!0),p),b=o.get("config")||{},v=b.params&&b.params.m_id,x=o.get("assetPrefix"),O=(x||(w?"https://s":"http://l")+".yimg.com/")+"os/mit/ape/m/81f43c2/t.gif";for(a in(s=s||{}).base&&delete(s=function(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}(s.base,s)).base,s)s.hasOwnProperty(a)&&(s[a]=r.helpers.tap(s[a],n,o));if(!s.src)return v?console.error("["+v+"][img helper] src is a required parameter."):console.error("[img helper] src is a required parameter."),n;if(w&&(-1===s.src.indexOf("https://")&&(s.src=s.src.replace(/^http:\/\/l/,"https://s")),s.style&&-1!==s.style.indexOf("url(")&&-1===s.style.indexOf("https://")&&/url\((.*)\)/i.test(s.style)&&(s.style=s.style.replace(/http:\/\/l/,"https://s"))),"string"!=typeof s.src||!s.src.length)return console.log("[img helper] wont render image without valid src"),n;if("undefined"==typeof s.defer&&(s.defer=t()?"1":"0"),"1"===e(b.params,["in_viewport"])&&(s.defer="0"),"svg"===(u=s.src.split(".").pop())&&!s.fallback)return console.log('[img helper] "fallback" image property is required if svg is used.'),n;for(a in s.group&&(m="ImageLoader-Group",delete s.group),"svg"===u&&(s["class"]=s["class"]?s["class"]+" "+m:m,s["data-imageloader-src"]=s.src,s["data-imageloader-fallback"]=s.fallback,s.src=O,y=!0,delete s.fallback),x&&(f=s.src,/^:\d{2,4}(?=\/)|^(?:[a-z]+:)?\/\//i.test(f))&&"gif"!==u&&-1!==s.src.indexOf("yimg.com")&&"1"!==s.defer&&("/"===x.substr(-1)&&(x=x.substr(0,x.length-1)),(c=s.src.match(/^[^#]*?:*?\/\/.*?(\/.*)$/i))&&c[1]&&(s.src=x+c[1])),"1"!==s.ondemand&&"1"!==s.defer||y||(h="background-image:url('"+s.src+"')",m="1"===s.ondemand?g+" ImageLoader-Delayed":m,s["class"]=s["class"]?s["class"]+" "+m:m,s.style=s.style?s.style+";"+h:h,s.src=O),s.alt||(s.alt=""),n.write("<img"),delete s.ondemand,delete s.defer,s)s.hasOwnProperty(a)&&n.write(" "+a+'="'+s[a]+'"');return n.write(">"),n}};function n(e){e.helpers.img=r(e)}t()?module.exports=function(e){n(e)}:n(dust)}(),function(){"use strict";var e;function t(){return"undefined"!=typeof exports}function r(t){t.helpers.link=e(t)}e=function(e){return function(r,n,o,i){var s,a,u,c="",l="",d="",p=null,f={},h={},y=n.get("state")||{},m="",g=[],k=[],w={write:function(e){m+=e}};for(s in i)i.hasOwnProperty(s)&&(c=e.helpers.tap(i[s],r,n),"name"===s?u=c:"query"===s?d=c:"class"===s?l=c:"rapid-"===s.substring(0,6)?(p||(p={}),"rapid-base"===s?p[s]=c:p[s.replace("rapid-","")]=c):"data-"===s.substring(0,5)?h[s]=c.replace(/"/g,"&quot"):f[s]=c);if(p&&(e.helpers.rapid_data_attr(w,n,o,p),m))for(s in g=m.split(" "))g.hasOwnProperty(s)&&"data-"===g[s].substring(0,5)&&(k=g[s].match(/(.*?)=\"(.*?)\"/))&&(h[k[1]]=k[2]);try{a=t()?y.genUrl:genUrl}catch(b){return console.log("getting routes or express map path to error: "+b),r}if(!a)return r;r.write("<a");try{r.write(' href="'+a(u,f)+(d?"?"+d:"")+'"')}catch(v){console.log("generate url fail with error: "+v)}for(s in l&&r.write(' class="'+l+'"'),h)h.hasOwnProperty(s)&&(c=h[s],r.write(" "+s+'="'+c+'"'));return r.write(">"),o.block&&o.block(r,n),r.write("</a>"),r}},t()?module.exports={linkInstance:function(e){r(e)},linkHelper:e}:r(dust)}(),function(){"use strict"
;var e=function(e){return function(t,r,n,o){return(o=o||{}).value?(t.write((i=e.helpers.tap(o.value,t,r))+((s=["th","st","nd","rd"])[((a=i%100)-20)%10]||s[a]||s[0])),t):(console.log("[ordinal helper] value is a required parameter."),t);var i,s,a}};function t(t){t.helpers.ordinal=e(t)}"undefined"!=typeof exports?module.exports=function(e){t(e)}:t(dust)}(),function(){"use strict";var e,t;function r(e){var r;for(r in t)t.hasOwnProperty(r)&&(e.helpers[r]=t[r](e))}t={rapid_init:function(){return function(t,r,n,o){return function(t,r,n){n=n||{};var o,i,s=r.get("context")||[],a=r.get("config")||{},u=n.spaceid||"";if(void 0===e)return t.write(""),void console.log("@rapid_init helper is only supported server side.");""===u&&(u=e.getSpaceId(s,a)),i=a.rapidSettings||{},o={spaceid:u||i.default_spaceid||"",client_only:i.hasOwnProperty("client_only")?i.client_only:1,test_id:i.test_id||"",compr_type:"deflate",webworker_file:i.webworker_file||"",text_link_len:i.text_link_len||8,keys:i.keys||{},tracked_mods:i.tracked_mods||[],perf_navigationtime:i.perf_navigationtime||0,perf_resourcetime:i.perf_resourcetime||0,nofollow_class:i.nofollow_class||[],pageview_on_init:i.pageview_on_init===undefined||!!i.pageview_on_init,ult_token_capture:"boolean"==typeof i.ult_token_capture&&i.ult_token_capture},t.write("<script>window.YAHOO = window.YAHOO || {}; window.YAHOO.i13n = window.YAHOO.i13n || {}; if (!window.YMedia) { var YMedia = YUI(); YMedia.includes = []; }<\/script>"),t.write("<script>YMedia.rapid = new YAHOO.i13n.Rapid("+JSON.stringify(o)+");<\/script>")}(t,r,o),t.write("\x3c!-- RAPID INIT --\x3e"),t}},rapid_data_attr:function(e){return function(t,r,n,o){var i=function(e,t,r,n){var o,i,s="",a="",u="";for(o in e["rapid-base"]&&delete(e=function(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}(e["rapid-base"],e))["rapid-base"],e)if(e.hasOwnProperty(o))switch(i=n.helpers.tap(e[o],t,r),o){case"outcome":s+='data-action-outcome="'+i+'"';break;case"action":a+='data-action="'+i+'"';break;default:u+=o+":"+i+";"}return""!==u&&(u='data-ylk="'+u+'"'),[s,a,u].join(" ")}(o,t,r,e);return t.write(i),t}}},"undefined"!=typeof exports?(e=require("./util"),module.exports={rapidInstance:function(e){r(e)},rapidHelpers:t}):r(dust)}(),function(){"use strict";var e=function(e){return function(t,r,n,o){return t.map(function(t){var n=o.tag||"div",i=e.helpers.tap(o.id,t,r),s=o["class"],a=undefined===o.wrap?1:o.wrap,u=e.helpers.tap(o.name,t,r),c=(r.get("regions")||{})[u];if(a&&(t.write("<"+n+' data-region="'+u+'"'),i&&t.write(' id="'+i+'"'),s&&t.write(' class="'+s+'"'),t.write(">")),c)if("string"==typeof c)t.write(c);else if("function"==typeof c)c(function(e){t.write(e)});else if("object"==typeof c&&"function"==typeof c.resume)return c.on("data",function(e){e&&t.write(e)}),c.on("end",function(){a?t.end("</"+n+">\x3c!--END "+u+"--\x3e"):t.end()}),void c.resume();a?t.end("</"+n+">\x3c!--END "+u+"--\x3e"):t.end()})}};function t(t){t.helpers.region=e(t)}"undefined"!=typeof exports?module.exports=function(e){t(e)}:t(dust)}(),function(){"use strict";var e;function t(t){t.helpers.share_btn=e(t)}e=function(e){return function(t,r,n,o){var i,s,a={},u={container:{}};for(i in o)o.hasOwnProperty(i)&&(s=e.helpers.tap(o[i],t,r),"data-"===i.substring(0,5)?u.container[i]=s:a[i]=s);switch(a.tag=a.tag||"span",a.url=a.url||"#",a.size=a.size||"Fz-3xl",a.code){case"facebook":a.code="&#xe000;";break;case"tumblr":a.code="&#xe071;";break;case"gplus":a.code="&#xe07e;";break;case"twitter":a.code="&#xe001;";break;case"pinterest":a.code="&#xe07f;";break;case"email":a.code="&#xe07d;";break;case"line":a.code="&#xe07b;";break;case"yahoo":a.code="&#xe051;"}if(a.code&&null===a.code.match(/&#.{5};/))t.write("");else{for(i in t.write("<"+a.tag),a.c0&&t.write(' class="'+a.c0+'"'),t.write(' tabindex="0"'),u.container)u.container.hasOwnProperty(i)&&(s=u.container[i],t.write(" "+i+'="'+s+'"'));t.write(">"),t.write('<a role="link" target="_blank" '),t.write('class="rapidnofollow Icon Mini Ta-c NoLinkColor NoTextDecoration '),a.c1&&t.write(a.c1+" "),t.write(a.size+'" href="'+a.url+'"'),a.tooltip&&t.write(' title="'+a.tooltip+'"'),n.block&&(t.write(" "),n.block(t,r)),t.write(">"),t.write(a.code),t.write("</a>"),t.write("</"+a.tag+">")}return t}},"undefined"!=typeof exports?module.exports=function(e){t(e)}:t(dust)}(),function(){"use strict";var e=new RegExp(/\s([^\s<]+)\s*$/),t=function(t){return function(r,n,o,i){return(i=i||{}).text?(r.write(t.helpers.tap(i.text).replace(e,"&nbsp;$1")),r):(console.log("[textNoWrapHelper helper] text is a required parameter."),r)}};function r(e){e.helpers.textNoWrap=t(e)}"undefined"!=typeof exports?module.exports=function(e){r(e)}:r(dust)}(),function(){"use strict";var t={getSpaceId:function(e,t){var r;if(t.hasOwnProperty("urlSpaceId")&&"true"===t.urlSpaceId&&null!==e.urlPath&&e.urlPath!==undefined&&t.hasOwnProperty("urlSpaceIdMap"))for(r in t.urlSpaceIdMap)if(t.urlSpaceIdMap.hasOwnProperty(r)&&!0===new RegExp(r).test(e.urlPath))return t.urlSpaceIdMap[r];return t.spaceid}};"object"==typeof module&&"undefined"!=typeof module.exports?module.exports=t:e.namespace("Af").HelperUtil=t}(),dust.load=function(e,t,r){var n,o=r.get("applet_type"),i=e;return o&&dust.cache[o+"-templates-"+e]&&(i=o+"-templates-"+e),(n=dust.cache[i])?n(t,r):dust.onLoad?t.map(function(e){dust.onLoad(i,function(t,n){if(t)return e.setError(t);dust.cache[i]||dust.loadSource(dust.compile(n,i)),dust.cache[i](e,r).end()})}):t.setError(new Error("Template Not Found: "+i))}},"@VERSION@",{requires:["stencil-imageloader","moment","intl-helper"]});/*
YUI 3.18.1 (build f7e7bcb)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("view",function(e,t){function n(){n.superclass.constructor.apply(this,arguments)}e.View=e.extend(n,e.Base,{containerTemplate:"<div/>",events:{},template:"",_allowAdHocAttrs:!0,initializer:function(t){t||(t={}),t.containerTemplate&&(this.containerTemplate=t.containerTemplate),t.template&&(this.template=t.template),this.events=t.events?e.merge(this.events,t.events):this.events,this.after("containerChange",this._afterContainerChange)},destroy:function(e){return e&&(e.remove||e["delete"])&&this.onceAfter("destroy",function(){this._destroyContainer()}),n.superclass.destroy.call(this)},destructor:function(){this.detachEvents(),delete this._container},attachEvents:function(t){var n=this.get("container"),r=e.Object.owns,i,s,o,u;this.detachEvents(),t||(t=this.events);for(u in t){if(!r(t,u))continue;s=t[u];for(o in s){if(!r(s,o))continue;i=s[o],typeof i=="string"&&(i=this[i]);if(!i)continue;this._attachedViewEvents.push(n.delegate(o,i,u,this))}}return this},create:function(t){return t?e.one(t):e.Node.create(this.containerTemplate)},detachEvents:function(){return e.Array.each(this._attachedViewEvents,function(e){e&&e.detach()}),this._attachedViewEvents=[],this},remove:function(){var e=this.get("container");return e&&e.remove(),this},render:function(){return this},_destroyContainer:function(){var e=this.get("container");e&&e.remove(!0)},_getContainer:function(e){return this._container||(e?(this._container=e,this.attachEvents()):(e=this._container=this.create(),this._set("container",e))),e},_afterContainerChange:function(){this.attachEvents(this.events)}},{NAME:"view",ATTRS:{container:{getter:"_getContainer",setter:e.one,writeOnce:!0}},_NON_ATTRS_CFG:["containerTemplate","events","template"]})},"3.18.1",{requires:["base-build","node-event-delegate"]});
YUI.add("af-applet-view",function(e,t){"use strict";var i=e.Af.Utils.perfStart,n=e.Af.Utils.perfStop,s=e.Af.Bootstrap,r=e.Lang.isFunction,a="error",d="viewrender",h="viewupdate";e.namespace("Af").AppletView=e.Base.create("AfAppletView",e.View,[],{isDirty:!1,tmplPrefix:"ape-applet-templates-",_handles:[],autoRender:!0,isEditView:!1,initializer:function(t){this._handles.push(this.after("displayChange",function(e){this.fireEvent("viewdisplay",{prevRegion:e.prevVal,newRegion:e.newVal})},this)),this._handles.push(this.after("viewrender",function(){var t=this;e.use("stencil",function(e){e.Stencil.initAll(t.get("container"))})},this)),e.each(["autoRender"],function(i){e.Object.owns(t,i)&&(this[i]=t[i])},this),this.autoRender&&(this._dataHandle=this.get("model").after("dataChange",function(){this.isDirty=!0,this.render()},this))},destructor:function(){this._dataHandle&&(this._dataHandle.detach(),delete this._dataHandle),this.get("container").destroy(!0),e.Array.each(this._handles,function(e){e.detach()}),delete this.tmplPrefix,delete this.isDirty,delete this._handles},getTemplate:function(){if(this._template)return this._template;var e=this.get("name"),t=s.getTemplateName(this.get("guid"),e);return dust.cache[t]?(this._template=t,t):(t=this.tmplPrefix+e,dust.cache[t]?(this._template=t,t):null)},loadLazyTemplates:function(t){r(t)||(t=null);var i=s.getLazyLoadYuiModules(this.get("guid"),"templates"),n=e.Array.filter(i,function(e){return!dust.cache[e]});0!==n.length?e.use(n,function(){if(t){var i=e.Array.filter(n,function(e){return!dust.cache[e]});i&&i.length>0?t(i):t()}}):t&&t()},refresh:function(){throw"refresh() not implemented"},setHTML:function(t){return e.Af.Dom.setHTML(this.get("container"),t),this},shouldRender:function(){return this.isDirty||!this.hasContent()},render:function(){return this.shouldRender()&&this.loadLazyTemplates(e.bind(this._render,this)),this},_render:function(){var t,s,r,h=this.getTemplate();return h?(r=this.get("type")+":"+this.get("name")+":",i(s=r+"tojson"),t=this.get("model").toJSON(),n(s),i(s=r+"dust"),dust.render(h,t,e.bind(function(e,t){n(s),e?this.fireEvent(a,{code:d,message:e.message||e}):(this.setHTML(t),this.isDirty=!1,this.fireEvent(d))},this)),this):(this.fireEvent(a,{code:d,message:"no template found"}),this)},forceRender:function(){return this.isDirty=!0,this.render()},update:function(t,i,n,s,r){"function"==typeof(s=s||{})&&(r=s,s={});var d,u,o=this.get("container"),l=this.get("model");return t="string"==typeof t?o.one(t):t,i&&dust.cache[i]?n?t||(d="can't find node"):d="missing data":d="missing template:"+i,d?(this.fireEvent(a,{code:h,message:d}),r&&window.setTimeout(function(){r(d)},0),this):(u=e.merge(n,{i18n:l.get("i18n"),intl:l.get("intl")}),dust.render(i,u,e.bind(function(i,n){return i?(this.fireEvent(a,{code:h,message:i.message||i}),r&&r(i)):("append"===s.mode?t.append(n):e.Af.Dom.setHTML(t,n),o.contains(t)&&this.fireEvent(h),r&&r(null,n))},this)),this)},hasContent:function(){var t=this.get("container");return""!==e.Lang.trim(t.getHTML())},fireEvent:function(e,t){var i={applet:{guid:this.get("guid"),type:this.get("type"),view:{name:this.get("name")}}};i[e]=t||{},this.fire(e,i)},getRapid:function(){var t=e.Af.rapid;return(t&&r(t.getRapidTracker)?t.getRapidTracker():e.rapid)||null},rapidBeaconClick:function(t,i){var n=e.Af.rapid;t&&n&&r(n.triggerBeaconClickEvent)&&n.triggerBeaconClickEvent(t,i)},rapidParseYLK:function(t){var i=e.Af.rapid;if(t&&i&&r(i.parseYLK))return i.parseYLK(t)},rapidGetSec:function(t){var i=e.Af.rapid;if(t&&i&&r(i.getSecValue))return i.getSecValue(t)}},{ATTRS:{guid:{},type:{},name:{},model:{},display:{value:null}}})},"@VERSION@",{requires:["af-bootstrap","af-utils","base-build","dust","view"]});YUI.add("af-applet-headerview",function(e){"use strict";e.namespace("Af").AppletHeaderView=e.Base.create("AfAppletHeaderView",e.Af.AppletView,[],{autoRender:!1})},"@VERSION@",{requires:["af-applet-view","stencil-selectbox"]});/*
YUI 3.18.1 (build f7e7bcb)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("parallel",function(e,t){e.Parallel=function(t){this.config=t||{},this.results=[],this.context=this.config.context||e,this.total=0,this.finished=0},e.Parallel.prototype={results:null,total:null,finished:null,add:function(t){var n=this,r=n.total;return n.total+=1,function(){n.finished++,n.results[r]=t&&t.apply(n.context,arguments)||(arguments.length===1?arguments[0]:e.Array(arguments)),n.test()}},test:function(){var e=this;e.finished>=e.total&&e.callback&&e.callback.call(e.context,e.results,e.data)},done:function(e,t){this.callback=e,this.data=t,this.test()}}},"3.18.1",{requires:["yui-base"]});
YUI.add("af-compositeview",function(e,i){"use strict";var t=e.Af.Utils,n=e.Lang.isFunction,o=e.Object,s=e.Parallel;function r(e,i,t,n){var o=this;o.name=e,o.parent=i,o.selector=t,o.view=n}function a(){}r.prototype={setView:function(e){return this.view=e,this},showView:function(e,i){var t,o=this,r=o.view;if(r!==e)return i=i||{},r&&n(r.willHide)||e&&n(e.willShow)?(t=new s,r&&n(r.willHide)&&r.willHide(t.add(function(){})),e&&n(e.willShow)&&e.willShow(t.add(function(){})),t.done(a)):a(),o;function a(){o.detachView(),o.view=e,o.attachView()}},closeView:function(){var e=this,i=e.view;function t(){e.detachView(),e.view=undefined}return i&&n(i.willHide)?i.willHide(t):t(),e},getView:function(){return this.view},detachView:function(e){var i=this,t=i.view;return t&&(t.remove(e),t.removeTarget(i.parent),t.set("display",null)),i},getContainer:function(){return this.parent.get("container").one(this.selector)},attachView:function(){var e,i,t=this,n=t.view;return n&&((e=t.getContainer()).addClass("yui3-app-views"),(i=n.get("container"))&&e!==i.get("parentNode")&&e.append(i),n.addTarget(t.parent),n.set("display",t.name)),t},show:function(){return this.getContainer().show(),this},hide:function(){return this.getContainer().hide(),this}},a.prototype={allowRegionLateBind:!0,initializer:function(i){var n=this;i=i||{},n.views=t.objectMerge({},n.views,i.views),t.objectMerge({},n.regions,i.regions),o.each(n.regions,function(i,t){var o,s=n.getRegion(t);s||(s=n.createRegion(t,i.selector)),i.view&&s&&(o=e.Lang.isString(i.view)?n.getView(i.view):i.view)&&s.showView(o)})},attachRegionViews:function(){o.each(this._regions,function(e){e.attachView()})},detachRegionViews:function(e){o.each(this._regions,function(i){i.detachView(e)})},createRegion:function(e,i){var t=this;return t._regions||(t._regions={}),i=i||'[data-region="'+e+'"]',t.allowRegionLateBind||t.get("container").one(i)?(t._regions[e]=new r(e,t,i,null),t._regions[e]):null},getRegion:function(e){return this._regions?this._regions[e]:null},destroyView:function(i,t){if(i){var n,o=this._views,s=t&&!0===t.async;"string"==typeof i&&(i=o?o[i]:null),i&&(n=i.get("name"),i===o[n]&&delete o[n],s?e.later(0,null,function(){i.destroy(t)}):i.destroy(t))}},destroyViews:function(i){var t=this._views,n=i&&!0===i.async;this._views={},n?e.later(0,null,function(){o.each(t,function(e){e.destroy(i)})}):o.each(t,function(e){e.destroy(i)})},getView:function(e){return this._views?this._views[e]:null},setView:function(e,i){this._views||(this._views={}),this._views[e]=i}},e.namespace("Af").CompositeView=a},"@VERSION@",{requires:["parallel","af-utils"]});YUI.add("stencil-source",function(t,e){"use strict";var n,c;function i(t){this.constructor.superclass.constructor.call(this,t)}c=function(t,e){t.skipInsert||"string"!=typeof t.content||(t.node.set("innerHTML",t.content),t.node.setData("source-loaded",!0)),e&&e(t)},(n=function(){}).prototype={execute:function(t,e,n){t.getData("source-loaded")&&!e.force||this.fetch(t,n)},callback:function(t){t.node.hasAttribute("data-tmpl")?this.renderTemplate(t):c(t)},renderTemplate:function(e){var n,i,a=e.node,o={};n=a.getAttribute("data-tmpl"),t.use("mjata-template","mjata-util",t.bind(function(t){(i=this.parseAttrs(n))&&t.Mjata.Template.render(i.change,e.content,null,function(t,e){c({node:a,content:e},o.callback)})},this))},parseAttrs:function(e){return e?t.Mjata.Util.strParseKV(e):null}},t.Stencil.BaseSource=n,t.extend(i,t.Stencil.BasePlugin,{execute:function(e,n){var c=t.Stencil.Hosts.Source;n=n||{},e||(e=t.Stencil.getNodeList(this._node)),e.each(function(e){var i;(i=e.getAttribute("data-source-plugin"))&&(c[i]?c[i].execute(e,n,this.callback):t.use("stencil-source-"+i,t.bind(function(t){c[i]&&c[i].execute(e,n,this.callback)},this)))},this)}},{NS:"StencilSource"}),t.augment(i,t.Stencil.BaseSource),t.Stencil.registerPlugin(i,"Source"),t.Stencil.Hosts.Source=t.augment({},t.Plugin.Host,!1,null)},"@VERSION@",{requires:["node","oop","pluginhost","mjata-util"]});YUI.add("stencil-tooltip",function(t,e){"use strict";var o,s,i,n,r,a,l,c,h,u,d,f,p,b,g=null,m="D-n",w="Tooltip",N="TooltipContent",v=t.UA.ie&&t.UA.ie<7?["javascript",":false"].join(""):"about:blank",S={"default":{id:g,position:"t",validPositions:"tfr tr t tl tfl rfb rb r rt rft bfl bl b br bfr lft lt l lb lfb",content:"",classes:"FancyBox Arrow Pos-a Lh-14 Z-5 Px-10 Mt-10",role:"alert",width:"150px",maxWidth:g,minWidth:g,template:"<div tabindex='-1' class='{classes}' role='{role}'><iframe src='"+v+"' aria-hidden='true' tabindex='-1' frameborder='0' class='IframeTooltip'></iframe></div>",contentClasses:"Pos-r M-0",container:g,parent:document.body,autohide:!0,arrowHeight:8,arrowWidth:14,mouseover:!1,noPosition:!1,align:g,alignNode:g,focusNode:g,nofocus:!1,scrollIntoView:!1}},W="px",x="id",y="top",A="left",C="tooltip-content-id",E={tl:"South SouthWest",tfl:"South SouthFarWest",tc:"South",tr:"South SouthEast",tfr:"South SouthFarEast",rt:"West WestNorth",rft:"West WestFarNorth",rc:"West",rb:"West WestSouth",rfb:"West WestFarSouth",br:"North NorthEast",bfr:"North NorthFarEast",bc:"North",bl:"North NorthWest",bfl:"North NorthFarWest",lb:"East EastSouth",lfb:"East EastFarSouth",lc:"East",lt:"East EastNorth",lft:"East EastFarNorth"};function P(t){this.constructor.superclass.constructor.call(this,t)}o=function(e,o){var s,i,n=t.Node(document.createElement("div"));return n.setAttribute("className","js-Tooltip-Wrapper Pos-r"),(i=(s=t.Node.create(t.Lang.sub(o.template,o)).addClass(m).addClass(w)).get(x))||(i=t.stamp(s),s.set(x,i)),n.append(s),e.get("parentNode")?e.replace(n):t.one(o.parent).prepend(n),s.append(e),e.addClass(N),s},s=function(e,s){var i,n,r,a,l=e.get(x);return l||(l=t.stamp(e),e.set(x,l)),(i=s.id||e.getData(C))&&(r=t.one("#"+i)),r?n=(a=r.get("parentNode")).hasClass("Tooltip")?a:o(r,s):(r=t.one(document.createElement("div")),i=i||t.stamp(r),r.set(x,i),n=o(r,s)),e.setData(C,i),n},i=function(e,o,s){var i={},n=s.one("."+N),r=n.get(x),a=e.get(x);return o.mouseover&&!s.hasAttribute("data-tooltip")&&(s.setAttribute("data-trigger","mouseenter mouseleave").setAttribute("data-tooltip",'{"target":"#'+a+'","mouseenter":{"show":{"id":"'+r+'","noPosition":true,"nofocus":'+o.nofocus+'}},"mouseleave":{"hide":{"id":"'+r+'","noPosition":true}}}').setAttribute("data-plugin","tooltip"),t.Stencil.initAll(s)),o.maxWidth&&(i.maxWidth=o.maxWidth),o.minWidth&&(i.minWidth=o.minWidth),o.width&&(i.width=o.width),n.setStyles(i).setAttribute("className",o.contentClasses+" "+N),s},n=function(e,o,s){var i;return o||(o={}),i=o.type||"default",s&&s.type&&(0===s.type.indexOf("mouse")||0===s.type.indexOf("pointer"))&&(o.nofocus=!0),t.merge(S[i],o)},a=function(e,o,n){var a,l;n||(n=s(e,o)),n.getData("beenShown")||(i(e,o,n),this.processSources(n),n.setData("beenShown",1)),!o.noContentUpdate&&o.content&&this.setContent(n,o.content),o.noPosition?n.removeClass(m):this.position(e,n,o),o.scrollIntoView&&n.scrollIntoView(),!1===o.nofocus&&(o.autohide&&(a=t.bind(r,this,g,g,n)),l=o.focusNode?t.one(o.focusNode):n,this.focus(n,l,a)),n.one(".TooltipContent").fire("tooltip:show")},r=function(t,e,o){o||(o=s(t,e)),this.releaseFocus(o),o.addClass(m),o.one(".TooltipContent").fire("tooltip:hide")},l=function(t){var e=0;switch(t){case"l":case"t":e=.25;break;case"r":case"b":e=.75;break;case"fl":case"ft":e=0;break;case"fr":case"fb":e=1;break;default:e=.5}return e},c=function(t,e){var o=0;switch(t){case"fl":case"fr":case"ft":case"fb":o=(2+e/2)*("fr"===t||"fb"===t?-1:1)}return o},u=function(t,e,o,s){var i=0,n=0;return"t"===o||"b"===o?(i=-l(s)*e.w,n="t"===o?-e.h:t.h):(i="l"===o?-e.w:t.w,n=t.h/2-l(s)*e.h),{x:t.x+i,y:t.y+n,w:e.w,h:e.h}},h=function(t,e){return t.left<=e.x&&t.right>=e.x+e.w&&t.top<=e.y&&t.bottom>=e.y+e.h},p=function(t){return t.substr(1)||"c"},b=function(t){return t.charAt(0)},f=function(e,o,s,i){var n,r,a,l,c,d=i.validPositions.split(" "),f=t.Array.indexOf(d,i.box+i.arrow),g=!1,m=!1;for("c"===i.arrow&&f<0&&(f=t.Array.indexOf(d,i.box)),r=f;!g&&!m;)l=b(d[n=r]),c=p(d[n]),a=u(e,s,l,c),g=h(o,a),(r+=1)===d.length&&(r=0),r===f&&(m=!0);return g&&(i.box=l,i.arrow=c),{styles:i}},d=function(e,o,s,i){var n,r={x:o.getX(),y:o.getY(),w:o.get("offsetWidth"),h:o.get("offsetHeight")},a={x:0,w:s.get("offsetWidth"),h:s.get("offsetHeight")};return{container:n=e?{right:e.getX(),left:e.getX()+e.get("offsetWidth"),height:e.get("offsetHeight"),top:e.getY()}:t.DOM.viewportRegion(),pointAtNode:r,tooltip:a,positions:f(r,n,a,i)}},t.extend(P,t.Stencil.BasePlugin,{setContent:function(e,o){t.Stencil.getNodeList(e).each(function(e){var s=e.one(".TooltipContent");"string"==typeof o?s.set("innerHTML",o):(s.set("innerHTML",""),s.appendChild(t.one(o)))},this)},position:function(e,o,s){var i,n,r,a,h,u,f,g,m=s.position,N=b(m),v=p(m),S=t.UA.ie&&t.UA.ie<8?0:s.arrowHeight,x=s.arrowWidth,C=s.align,P=s.alignNode,T=o.get("parentNode"),F=s.classes,H=s.container,k={};switch("rtl"===T.getStyle("direction")&&(N="r"===N?"l":"r",v="l"===v||"fl"===v?"l"===v?"r":"fr":"r"===v?"l":"fl"),P&&(P=t.one(P)),H&&(H=t.one(H)),F=F+" V-h "+w,o.setAttribute("className",F),N=(i=d(H,e,o,{arrow:v,box:N,validPositions:s.validPositions})).positions.styles.box,v=i.positions.styles.arrow,F+=" "+E[m=N+v],o.setAttribute("className",F),h=T.getY(),a=T.getX(),u=Number(o.getComputedStyle("marginTop").slice(0,-2)),f=e.getX()-a,g=e.getY()-h,n=l(v),r=c(v,x),N){case"b":case"t":k[A]=f-i.tooltip.w*n-r+i.pointAtNode.w/2+W,k[y]="t"===N?g-i.tooltip.h-S-u+W:g+i.pointAtNode.h+S-u+W;break;case"l":case"r":k[A]="r"===N?f+i.pointAtNode.w+S+W:f-i.tooltip.w-S+W,k[y]=P&&"t"===C?P.getY()-h-u-r+W:g+i.pointAtNode.h/2-u-i.tooltip.h*n-r+W}o.setStyles(k),o.removeClass("V-h")},show:function(t,e,o){var s;this._node;s=n(0,e,o),t.each(function(t){a.call(this,t,s)},this)},hide:function(t,e,o){var s;this._node;s=n(0,e,o),t.each(function(t){r.call(this,t,s)},this)},toggle:function(t,e,o){var i,l;this._node;l=n(0,e,o),t.each(function(t){(i=s(t,l)).hasClass(m)?a.call(this,t,l,i):r.call(this,t,l,i)},this)}},{NS:"StencilTooltip"}),
t.Stencil.registerPlugin(P,"Tooltip")},"@VERSION@",{requires:["stencil-base","yui-base","dom-base","dom-screen","node-base","node-pluginhost","node-style","stencil-source"]});YUI.add("af-applet",function(e,t){"use strict";var i=e.Af,n=i.Utils,r=e.Lang,a=e.Object,s=e.Array,o=i.Config,l=i.Bootstrap,g="container",p="guid",c="model",f="type",d="footer",v="header",u="edit",w="main",h=o.isDev(),V=r.isFunction,_=n.objectGetValue,m=n.objectMerge,y=n.perfStart,A=n.perfStop;function M(e){if(!e)return e;var t=e.split("-");return(t=s.map(t,function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(".")}function C(t){e.EventTarget.prototype.constructor.call(this),this.initializer(t)}e.extend(C,i.CompositeView,{views:{main:{region:w},settings:{region:u},remove:{region:u},moreinfo:{region:u},header:{region:v},footer:{region:d}},regions:{main:{view:w},header:{view:v},footer:{view:d},edit:{defer:!0,view:"settings"}},allowRegionLateBind:!1,initializer:function(n){var s=this;s.guid=n.guid,s.type=n.type,s.clientId=e.guid("appletClientId_"),s.container=e.one(n.container),s._destroyed=!1,s.views=m(s.views,n.views),s.regions=m(s.regions,n.regions),a.each(s.regions,function(e,t){var i=s.getRegion(t);i||(i=s.createRegion(t,e.selector))}),s._bootstrapMV(function(e){try{if(e)return;var o=n.type+":aptShowViews";y(o),a.each(s.regions,function(e,t){if(e&&e.view){var i,n=s.getRegion(t);n&&(i=r.isString(e.view)?s.getView(e.view):e.view)&&n.showView(i)}}),A(o)}catch(l){if(h)throw l;i.Beacon.error(t,{},{code:"appbstrap",message:l.stack||l.message,appletType:s.type})}}),s._eventHandlers=[],s._eventHandlers.push(s.after("*:showmessage",function(e){i.Message.show(s.get(g),e.showmessage)}))},destroy:function(){var e=this,t=e.get(c);e.destroyViews(),e._regions=e._views=e.views=e.regions=null,t&&(e.set(c,null,{silent:!0}),t.destroy()),s.each(e._eventHandlers,function(e){e&&e.detach()}),e._eventHandlers=null,e._destroyed=!0,e.fireEvent("appletdestroyed"),e.detachAll()},createView:function(t){var n,r,a,s=this,o=s.views[t],d=i.AppletDom.classes().view_container_prefix+t;return o&&o.region&&!s.getRegion(o.region)?null:(r=s._getViewClass(t))?((n=e.merge({applet:s,name:t,guid:s.get(p),type:s.get(f),model:s.get(c),container:s.get(g).one("div."+d)},l.getViewMeta(s.get(p),t).config)).container||(n.container=e.Node.create('<div class="'+d+'"/>')),(a=new r(n)).addTarget(s),s.setView(t,a),a):null},fireEvent:function(e){this.fire(e,{applet:{guid:this.get(p),type:this.get(f),clientId:this.clientId}})},getViews:function(){return this._views},get:function(e){return this[e]},set:function(e,t){this[e]=t},regionForView:function(e){var t=this.views&&this.views[e];return t?t.region:null},_bootstrapMV:function(e){var t=this,i=t.get(g),n={batch:r.isValue(i.getData("applet-defer"))};i.one(".App-Toolbar_v2")&&(n.extraMods=["af-applet-editview","af-applet-settingsview"]),l.load(t.get(p),n,function(i){if(i)e(i);else if(t._destroyed)e("applet was destroyed");else{var n=t.get(f),r=n+":aptCreateModel";y(r),t._createModel(),A(r),y(r=n+":aptCreateViews"),t._createViews(),A(r),e()}})},_createModel:function(){var e=this._getModelClass();this.set(c,new e({guid:this.get(p),type:this.get(f)}))},_createViews:function(){var t=this,n=t.get(g),r=l.getMeta(t.get(p)).views,o=i.AppletDom.classes().view_container_prefix;a.each(r,function(i,n){var r;(i=e.merge(t.views[n],i)).isActiveView&&i.region&&(r=t.regions[i.region])&&(r.view=n)}),a.each(t.regions,function(e,i){var r,a,l,g;if(r=i,a=e.view,l=["js-applet-view-container"],(g=n.one("div[data-region="+r+"]"))&&(r!==a&&l.push(o+r),s.forEach(l,function(e){var t=g.one("div."+e);t&&t.replaceClass(e,o+a)})),!e.defer){var p=e.view&&t.createView(e.view);p&&p.render()}})},_getModelClass:function(){var t=l.getModelClass(this.get(p),"applet_model");return V(t)?t:(t=_(e,M(this.get(f))+"AppletModel"),V(t)?t:i.AppletModel)},_getViewClass:function(t){var n,r=this.get(p),s=l.getViewClass(r,t);if(V(s))return s;if(s=_(e,M(this.get(f))+M(t)+"View"),V(s))return s;if(n=l.getViewMeta(r,t),0===a.size(n)){if(t===d)return null;if(t===v)return null}return s=_(e.Af,"Applet"+M(t)+"View"),V(s)?s:this.views[t]&&this.views[t].region===u?e.Af.AppletEditView:i.AppletView}}),e.EventTarget&&e.augment(C,e.EventTarget,!0,null,{emitFacade:!0,prefix:"AfApplet"}),e.namespace("Af").Applet=C},"@VERSION@",{requires:["af-applet-dom","af-applet-model","af-applet-headerview","af-bootstrap","af-compositeview","af-config","af-utils","array-extras","event-custom","node","stencil-tooltip"]});YUI.add("af-applet-init",function(e,t){"use strict";var i=e.Af,a=i.AppletDom,n=i.Utils,p=i.Config,o=e.Lang,s=i.Bootstrap,r=e.Object,l=e.DOM,c=i.Beacon,f="appletinit",d="data-applet-init",u="appletsinit",h="viewport",g="js-appletiniting",w=n.perfStart,v=n.perfStop,y=p.isDev();function A(){this._defInit=p.getContext("default_appletinit")||h}A.prototype={name:"applet.init",execute:function(e,t,i){switch(t.action){case"page.init":this.initApplets(e),e.after("*:initapplet",function(t){var i=t.initapplet;this.initApplet(e,i)},this);break;case"applet.init":this.initApplet(e,t.params)}t.callback&&t.callback(),i()},initApplets:function(t){var i,a,p=this,o=[],c=n.screenTouchable()?"touchstart":"mouseenter";a=this._scan(t),o=(o=(o=o.concat(r.keys(a.now))).concat(r.keys(a.lazy))).concat(r.keys(a.viewport)),s.load(o,{},function(){r.each(a.now,function(i){e.later(5,p,function(){this.initApplet(t,{node:i})})})}),r.each(a.lazy,function(e){e.once(c,function(){this.initApplet(t,{node:e})},this)},this),r.size(a.viewport)&&(r.each(a.viewport,function(e,i){e.once(c,function(){delete a.viewport[i],this.initApplet(t,{node:e})},this)},this),i=e.one(window).after("scroll",n.throttle(function(){var n=l.viewportRegion();r.each(a.viewport,function(i,p){l.inRegion(i.getDOMNode(),n,!1)&&(delete a.viewport[p],e.later(5,this,function(){this.initApplet(t,{node:i})}))},p),i&&0===r.size(a.viewport)&&i.detach()},200))),e.publish(u,{fireOnce:!0,async:!0}),e.fire(u,{applets:t})},_scan:function(t){var i,n=this,p="aptsScanDOM",s={deferred:{},now:{},viewport:{},lazy:{}};return w(p),a.all(e.one("body"),function(e){var p=e.getData(),r=p["applet-defer"],c=p["applet-init"],f=a.getGuid(e);if(!o.isValue(r))switch(c=c||n._defInit){case"critical":n.initApplet(t,{node:e});break;case"now":s.now[f]=e;break;case"lazy":s.lazy[f]=e;break;case h:i=i||l.viewportRegion(),l.inRegion(e.getDOMNode(),i,!1)?s.now[f]=e:s.viewport[f]=e}}),v(p),s},initApplet:function(e,n){!(n=n||{}).node&&n.guid&&(n.node=a.getNode(n.guid));var p,o,s,r,l=n.node;if(!l||!l._node||l.hasClass(g))return null;if(p=a.getGuid(l),o=a.getType(l),e.applets[p]){if(!n.replace)return e.applets[p];try{e.applets[p].destroy()}catch(u){if(y)throw u;c.error(t,{},{code:"appdestroy",message:u.stack||u.message,appletType:o})}delete e.applets[p]}if(l.addClass(g),w(s=o+"_aptNew",!0),r={guid:p,type:o,container:"#"+l.get("id")},y)return e.applets[p]=new i.Applet(r),e.applets[p].addTarget(e),v(s,!0),e.fire(f,{applet:{guid:p,type:o}}),l.removeClass(g),l.removeAttribute(d),e.applets[p];try{return e.applets[p]=new i.Applet(r),e.applets[p].addTarget(e),v(s,!0),e.fire(f,{applet:{guid:p,type:o}}),l.removeAttribute(d),e.applets[p]}catch(h){return c.error(t,{},{code:"appinit",message:h.stack||h.message,appletType:o}),null}finally{l.removeClass(g)}}},e.namespace("Af").AppletInit=A},"@VERSION@",{requires:["af-applet","af-beacon","af-bootstrap","af-config","af-utils","event-touch","oop"]});/*
YUI 3.18.1 (build f7e7bcb)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("template-base",function(e,t){function n(t,n){this.defaults=n,this.engine=t||e.Template.Micro,this.engine||e.error("No template engine loaded.")}n._registry={},n.register=function(e,t){return n._registry[e]=t,t},n.get=function(e){return n._registry[e]},n.render=function(t,r,i){var s=n._registry[t],o="";return s?o=s(r,i):e.error('Unregistered template: "'+t+'"'),o},n.prototype={compile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.compile(t,n)},precompile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.precompile(t,n)},render:function(t,n,r){return r=r?e.merge(this.defaults,r):this.defaults,this.engine.render?this.engine.render(t,n,r):this.engine.compile(t,r)(n,r)},revive:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.revive?this.engine.revive(t,n):t}},e.Template=e.Template?e.mix(n,e.Template):n},"3.18.1",{requires:["yui-base"]});
YUI.add("ape-af-templates-message",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(e){function t(e,t){return e.w('<div role="alertdialog" tabindex="0" class="').f(t.get(["stencilLevel"],!1),t,"h").w(" ").f(t.get(["stencilType"],!1),t,"h").w('Alert js-msg" aria-labelledby="desc-').f(t.get(["guid"],!1),t,"h").w('">\n\t').x(t.get(["glyphHook"],!1),t,{"else":s,block:n},{}).w('\n<p id="desc-').f(t.get(["guid"],!1),t,"h").w('" class="Bfc Reset Mt-2">').f(t.get(["content"],!1),t,"h",["s"]).w("</p>\n</div>\n")}function s(e,t){return e.w('\n<span class="Alert').f(t.get(["stencilLevel"],!1),t,"h").w('Icon Icon Fl-start Mend-10"> ').f(t.get(["stencilIcon"],!1),t,"h",["s"]).w('<b class="Hidden">').f(t.get(["stencilLevel"],!1),t,"h").w('</b></span>\n\t    <button class="AlertCloseBtn Icon Fl-end Mstart-10 ButtonNaked js-msg-close">&#xe009;<b class="Hidden">Close</b></button>\n    ')}function n(e,t){return e.w('\n<span class="').f(t.get(["glyphHook"],!1),t,"h").w(' AlertIcon Fl-start Mend-10"><b class="Hidden">').f(t.get(["stencilLevel"],!1),t,"h").w('</b></span>\n\t    <button class="').f(t.get(["glyphHook"],!1),t,"h").w(' AlertCloseBtn Fl-end Mstart-10 ButtonNaked js-msg-close"><b class="Hidden">Close</b></button>\n    ')}return dust.register("ape-af-templates-message",t),t.__dustBody=!0,s.__dustBody=!0,n.__dustBody=!0,t}(),dust.cache["ape-af:message.dust"]=dust.cache["ape-af:message"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["ape-af/templates/message"]=function(e,s){e=e||{},dust.render(t,e,s)}},"@VERSION@",{requires:["template-base","dust"]});YUI.add("af-message",function(e,s){"use strict";var a,n={ERR:"Doh! Something went wrong. Please try again.",ERR_LOAD:"Oops, something went wrong. Please try again.",ERR_SAVE_SETTINGS:"Oops, we couldn't save your preferences. Please try again.",ERR_SAVE:"Oops, something got stuck in our tubes. Please try again.",ERR_AUTH:"Oops, you need to log in again."},o="D-n",t="info",r={error:"Error",important:"Important",info:"Info",success:"Success",warn:"Warning"},i={error:"&#xe046;",important:"&#xe046;",info:"&#xe035;",success:"&#xe063;",warn:"&#xe046;"},l={page:"Page",modal:"Modal",app:"App"};e.namespace("Af").Message={show:function(s,p,c,g){var d,u,f,m,h,R=p.template||"ape-af-templates-message";a||(a=e.Af.Utils.i18n("ape-af/strings"),0===e.Object.size(a)&&(a=n)),(s=e.one(s))||(s=e.one("body")),g||(g="BODY"===s.get("nodeName")?"page":s.hasClass("js-applet")?"app":"modal"),d=s.one(">.js-msg"),u=p.level?p.level.toLowerCase():t,m=p.token,(f=p.content)||(m&&(f=a[m]),f||"error"!==u||(f=a.ERR)),h={guid:s.generateID(),stencilIcon:i[u]||i[t],stencilLevel:r[u]||r[t],stencilType:l[g]||l.page,content:f},c&&c.glyphHook&&(h.glyphHook=c.glyphHook),dust.render(R,h,e.bind(function(a,n){if(!a){var t=e.Node.create(n);t.addClass(o),d?d.replace(t):s.append(t),this._show(t)}},this))},_show:function(s){if(s=e.one(s)){s.removeClass(o).focus(),s.show("fadeIn",{duration:1});var a=s.one(".js-msg-close");a&&a.once("click",function(e){var a;e.preventDefault(),a=1,s.hide("fadeOut",{duration:a},function(){s.addClass(o),s.remove(!0)}),s.addClass(o)})}}}},"@VERSION@",{langBundles:["strings"],requires:["ape-af-templates-message","af-utils","node-base","selector-css3"]});