/*! reactFantasyVersion: 1.0.1279, chatVersion: 2.0.95, redzoneVersion: 4.0.303, reactFantasyV2Version: 1.0.219 */!function(e){function t(t){for(var n,i,s=t[0],u=t[1],c=t[2],f=0,p=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(l&&l(t);p.length;)p.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var u=r[s];0!==o[u]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={12:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;a.push([1407,0]),r()}({1407:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){var e=h(r(1));return o=function(){return e},e}function a(){var e=r(31);return a=function(){return e},e}function i(){var e=h(r(8));return i=function(){return e},e}var s=h(r(1408));function u(){var e=h(r(657));return u=function(){return e},e}function c(){var e=h(r(719));return c=function(){return e},e}function l(){var e=h(r(181));return l=function(){return e},e}function f(){var e=h(r(182));return f=function(){return e},e}var p=h(r(1409));function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function k(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var o=C(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return j(this,r)}}function j(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M={shouldSort:!0,threshold:.6,location:0,distance:100,includeMatches:!0,tokenize:!0,maxPatternLength:32,minMatchCharLength:1,keys:["asciiName"]},E=38,T=40,N=13,L=27;window.ScriptRunner.registerScript("playersearch",(function(e){YSF.use("ysf-xhr","json-parse",(function(t){!function(e,t,r){var n,h=t+"/"+e+"/",d=function(e){return h+"playersearch?search="+encodeURIComponent(e)},g=function(e){return h+"playersearchservice?show_actions=1&q="+encodeURIComponent(e)},w=function(e){x(r,e);var t=_(r);function r(e){return b(this,r),t.call(this,e)}return k(r,[{key:"insertString",value:function(e,t,r){return e.substr(0,t)+r+e.substr(t)}},{key:"getHighlighted",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.props.result,o=m(n.matches);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(a.key===r){var i,s=n.item[e],u=0,c=m(a.indices);try{for(c.s();!(i=c.n()).done;){var l=i.value,f=l[0]+u,p=l[1]+u+1;s=this.insertString(this.insertString(s,f,"<strong>"),p+8,"</strong>"),u+=17}}catch(e){c.e(e)}finally{c.f()}return s}}}catch(e){o.e(e)}finally{o.f()}return this.props.result.item[e]}},{key:"render",value:function(){var e=this.props,t=e.result,r=e.selected,n=e.requests;return o().default.createElement("div",{className:(0,i().default)("playersearch-results-result Bgc(#eee):h Pos(r) Trsp(a)",{"playersearch-results-result-selected Bgc(#eee)":r,"Bgc(t)":!r})},o().default.createElement("div",{className:"Fl(start)"},o().default.createElement(c().default,{onClick:t.item.watch.send,className:(0,i().default)("playersearch-results-result-watch-icon playersearch-results-result-"+t.item.watch.status+" D(b) C(#0078ff) Fz(13px) P(14px) C(#222):h Td(n):h Bd(n) Bgc(t) O(n) Cur(p)")},o().default.createElement(s.default,{icon:n["watch-"+t.item.id]?"loading":"watching"===t.item.watch.status?"star":"star_hollow"}))),o().default.createElement("div",{className:"Fl(end)"},o().default.createElement(u().default,{href:t.item.action.url,className:(0,i().default)("playersearch-results-result-action-icon playersearch-results-result-"+t.item.action.status+" D(b) Fz(13px) P(14px) Op(0.6) Op(1):h Td(n):h",{"C(red)":"drop"===t.item.action.status,"C(green)":"add"===t.item.action.status,"C(#0078ff)":"trade"===t.item.action.status,"D(n)":-1!=t.item.action.status.indexOf("disabled")})},o().default.createElement(s.default,{icon:"drop"===t.item.action.status?"minus":"add"===t.item.action.status?"plus":"trade"}))),o().default.createElement("div",null,o().default.createElement(u().default,{href:d(t.item.name),className:"playersearch-results-result-content D(b) P(14px) C(black) Fz(13px) Td(n):h"},o().default.createElement("span",{className:"playersearch-results-result-content-name Fw(400) Va-b",dangerouslySetInnerHTML:{__html:this.getHighlighted("name","asciiName")}}),o().default.createElement("span",{className:"playersearch-results-result-content-position Fw(555500) Fz-xxs Mstart(4px) Op(0.5)"},t.item.teamPosition))),o().default.createElement("div",{className:"Cl(b)"}))}}]),r}(o().default.Component),S=function(e){x(r,e);var t=_(r);function r(){return b(this,r),t.apply(this,arguments)}return k(r,[{key:"render",value:function(){var e=this,t=null,r=this.props,n=r.typing,a=r.selected,s=r.results,u=r.value;if(0===s.length&&!1===n||""===u){if(""===u)return null;t=o().default.createElement("div",{className:"playersearch-results-noresults C(#555) P(10px) Ta(c) Bgc(#eee)"},"There are no results")}else{t=[s.length>0?o().default.createElement("div",{key:"playersearch-results",className:(0,i().default)("playersearch-results Trsdu(250ms) Trsp(opacity)",{"playersearch-results-typing Op(0.3)":n})},s.map((function(t,r){return o().default.createElement(w,{requests:e.props.requests,selected:r===a,key:t.item.id,result:t})}))):o().default.createElement("div",{key:"playersearch-searching",className:"playersearch-results-searching D(b) C(#aaa) P(10px) Ta(c)"},"Searching..."),o().default.createElement("a",{href:d(u),key:"playersearch-results-moreresults",className:"playersearch-results-moreresults D(b) C(#0078ff) P(10px) Ta-c Bdts(s) Bdtc(#eee) Bdtw(1px)"},"View More Results")]}return o().default.createElement("div",{className:"playersearch-results-wrapper Pos(a) Bgc(white) T(100%) Start(0px) W(100%) Bxsh(shadow-1) Bdts(s) Bdtw(1px) Bdtc(#0078ff)"},t)}}]),r}(o().default.Component),O=function(e){x(n,e);var t=_(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).state={open:!1,typing:!1,value:"",selected:-1,results:[],requests:{}},r.lastSearch="",r.typingTimeout=null,r.fuse=new p.default([],M),r.open=r.open.bind(P(r)),r.search=r.search.bind(P(r)),r.change=r.change.bind(P(r)),r.pageClick=r.pageClick.bind(P(r)),r.clear=r.clear.bind(P(r)),r.keyDown=r.keyDown.bind(P(r)),r.close=r.close.bind(P(r)),r.searchRequestCount=0,r.requestCount=0,r.typingOver=!1,r}return k(n,[{key:"queueRequest",value:function(e,t){var n=this;n.setState((function(t){return v(v({},t),{},{requests:v(v({},t.requests),{},y({},e,!0))})})),n.requestCount++,r(t,(function(e){n.requestCount--,0===n.requestCount&&n.search(Object.keys(n.state.requests))}))}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;function n(){var r,n,o=t.state.typing;t.typingOver&&0==t.searchRequestCount&&(o=!1,t.typingOver=!1),t.setState({results:t.fuse.search(t.state.value).slice(0,6),requests:(r=t.state.requests,n=e||[],n.reduce((function(e,t){return delete e[t],e}),r)),typing:o})}var o=3===t.state.value.length,a=t.typingOver&&t.state.value.length<3&&t.state.value.length>0,i=t.lastSearch!=t.state.value.substr(0,3)&&t.state.value.length>3;e||o||a||i?(t.lastSearch=t.state.value.substr(0,3),t.searchRequestCount++,r(g(t.lastSearch),(function(e){t.searchRequestCount--;var r=e.objects[0],o=r.players||[],a=r.char_map||[],i=new RegExp("["+a.map((function(e){return e[1]})).join("")+"]","g"),s=a.reduce((function(e,t){return e[t[1]]=t[0],e}),{}),u=Object.keys(o).map((function(e){var r=o[e];return{name:r.player_combo.name,asciiName:r.player_combo.name.replace(i,(function(e){return s[e]})),id:r.player_combo.player_id,teamPosition:r.player_combo.team_name+" - "+r.player_combo.position,watch:{send:t.queueRequest.bind(t,"watch-"+r.player_combo.player_id,r.watch.url),status:r.watch.status},action:{url:r.action.url,status:r.action.action}}}));t.fuse=new p.default(u,M),n()}))):n()}},{key:"close",value:function(){this.setState({open:!1,typing:!1,value:"",results:[]}),this.refs.input.blur()}},{key:"keyDown",value:function(e){if(e.keyCode===E){e.preventDefault();var t=this.state.selected-1;t<-1&&(t=this.state.results.length-1),this.setState({selected:t})}else if(e.keyCode===T){e.preventDefault();var r=this.state.selected+1;r>=this.state.results.length&&(r=-1),this.setState({selected:r})}else e.keyCode===N?location.href=d(-1===this.state.selected?this.state.value:this.state.results[this.state.selected].item.name):e.keyCode===L&&this.close()}},{key:"pageClick",value:function(e){this.refs.playerSearch.parentElement.contains(e.target)||null===e.target.parentElement||this.close()}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.pageClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.pageClick)}},{key:"change",value:function(e){var t=this,r=e.target.value;this.typingOver=!1,this.setState({typing:!0,value:r,selected:-1},(function(){null!==t.typingTimeout&&clearTimeout(t.typingTimeout),t.typingTimeout=setTimeout((function(){t.typingOver=!0,t.search()}),250),t.search()}))}},{key:"clear",value:function(){this.setState({value:"",results:[],typing:!1})}},{key:"open",value:function(){var e=this;this.setState({open:!0},(function(){e.refs.input!==document.activeElement&&e.refs.input.focus()}))}},{key:"render",value:function(){return o().default.createElement("div",{className:(0,i().default)("playersearch-wrapper Trsp(a) Trstf(ease-out-quint) Trsdu(150ms)",{"W(44px) H(44px) Ov(h) Bdrs(44px)":!this.state.open,"H(44px) Ov(h)":this.state.open&&""===this.state.value,"W(288px) Bdrs(0px)":this.state.open})},o().default.createElement("div",{ref:"playerSearch",onKeyDown:this.keyDown,onClick:this.open,className:(0,i().default)("Pos(r) D(ib) W(288px) Trsp(a) Trsdu(150ms) Ta(start)",{"Bxsh(shadow-1) Bgc(white)":this.state.open,"Bgc(t)":!this.state.open})},o().default.createElement("a",{className:(0,i().default)("playersearch-searchicon yfa-rapid-beacon yfa-rapid-module-search-icon Va(t) Px(12px) Py(11px) Fz(16px) D(ib) Td(n) Td(n):h",{"C(white) C(white):h Cur(p)":!this.state.open,"C(#cbcbcb) C(#cbcbcb):h":this.state.open}),title:"Search Players"},o().default.createElement(s.default,{icon:"search"})),o().default.createElement("div",{className:"playersearch-input-wrapper D(ib)"},o().default.createElement("input",{ref:"input",value:this.state.value,onChange:this.change,placeholder:"Type to search players...",className:"playersearch-input-field Mstart(2px) O(n) Fz(13px) Bd(n) Py(14px) D(b) W(200px) Fw(400) Bgc(t) C(#333)",type:"text",maxLength:"32"})),o().default.createElement("div",{className:"playersearch-closeicon Va(t) D(ib) P(14px) Fz(13px) Cur(p)",onClick:this.clear},o().default.createElement(s.default,{icon:"close"})),o().default.createElement(S,{requests:this.state.requests,selected:this.state.selected,results:this.state.results,value:this.state.value,typing:this.state.typing})))}}]),n}(o().default.Component),j=function(e){x(r,e);var t=_(r);function r(){return b(this,r),t.apply(this,arguments)}return k(r,[{key:"render",value:function(){return o().default.createElement("div",{className:"Atomic"},o().default.createElement(O,null),o().default.createElement("div",{className:"Cl-end"}))}}]),r}(o().default.Component),C=(0,l().default)(j,{},[f().default]),A=document.getElementById("league-info-playersearch");null==A||null===(n=A.classList)||void 0===n||n.remove("Hidden"),(0,a().render)(o().default.createElement(C,null),A)}(e.leagueId,e.gameUri,(function(e,r){t.Fantasy.XHR.fetchFromAjax(e,{success:function(e,n){r(t.JSON.parse(n.response))}},void 0,void 0,!0)}))}))}))},1408:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){var e,t=(e=r(1))&&e.__esModule?e:{default:e};return o=function(){return t},t}function a(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===n(i)?i:String(i)),o)}var a,i}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l={close:{type:"font",value:"&#xe009;"},plus:{type:"font",value:"&#xe035;"},minus:{type:"font",value:"&#xe033;"},trade:{type:"font",value:"&#xe037;"},search:{type:"font",value:"&#xe01b;"},star:{type:"font",value:"&#xe023;"},star_hollow:{type:"font",value:"&#xe061;"},info:{type:"font",value:"&#xe013;"},help:{type:"font",value:"&#xe03f;"},talk_bubble:{type:"font",value:"&#xe05e;"},loading:{type:"image",value:"https://s.yimg.com/cv/ae/fantasy/img/fuji/loaders/blue-20.gif"}};t.default=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(c,e);var t,r,n,u=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),!(t=u.call(this,e)).props.icon in l&&console.error(t.props.icon+" is not a valid icon"),t}return t=c,(r=[{key:"render",value:function(){var e=l[this.props.icon];return"image"===e.type?o().default.createElement("img",{src:e.value,style:{height:"1em",width:"1em"}}):o().default.createElement("span",{className:"F-icon",style:{fontSize:"1em",width:"1em"},dangerouslySetInnerHTML:{__html:e.value}})}}])&&a(t.prototype,r),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o().default.Component);e.exports=t.default},1409:function(e,t,r){
/*!
 * Fuse.js v3.6.1 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(1),i=r(7),s=i.get,u=(i.deepValue,i.isArray),c=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,a=r.distance,i=void 0===a?100:a,u=r.threshold,c=void 0===u?.6:u,l=r.maxPatternLength,f=void 0===l?32:l,p=r.caseSensitive,h=void 0!==p&&p,d=r.tokenSeparator,v=void 0===d?/ +/g:d,y=r.findAllMatches,m=void 0!==y&&y,g=r.minMatchCharLength,b=void 0===g?1:g,w=r.id,k=void 0===w?null:w,S=r.keys,x=void 0===S?[]:S,O=r.shouldSort,_=void 0===O||O,j=r.getFn,P=void 0===j?s:j,C=r.sortFn,M=void 0===C?function(e,t){return e.score-t.score}:C,E=r.tokenize,T=void 0!==E&&E,N=r.matchAllTokens,L=void 0!==N&&N,A=r.includeMatches,B=void 0!==A&&A,q=r.includeScore,D=void 0!==q&&q,R=r.verbose,F=void 0!==R&&R;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:i,threshold:c,maxPatternLength:f,isCaseSensitive:h,tokenSeparator:v,findAllMatches:m,minMatchCharLength:b,id:k,keys:x,includeMatches:B,includeScore:D,shouldSort:_,getFn:P,sortFn:M,verbose:F,tokenize:T,matchAllTokens:L},this.setCollection(t),this._processKeys(x)}var t,r;return t=e,(r=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"_processKeys",value:function(e){if(this._keyWeights={},this._keyNames=[],e.length&&"string"==typeof e[0])for(var t=0,r=e.length;t<r;t+=1){var n=e[t];this._keyWeights[n]=1,this._keyNames.push(n)}else{for(var o=null,a=null,i=0,s=0,u=e.length;s<u;s+=1){var c=e[s];if(!c.hasOwnProperty("name"))throw new Error('Missing "name" property in key object');var l=c.name;if(this._keyNames.push(l),!c.hasOwnProperty("weight"))throw new Error('Missing "weight" property in key object');var f=c.weight;if(f<0||f>1)throw new Error('"weight" property in key must bein the range of [0, 1)');a=null==a?f:Math.max(a,f),o=null==o?f:Math.min(o,f),this._keyWeights[l]=f,i+=f}if(i>1)throw new Error("Total of weights cannot exceed 1")}}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var r=this._prepareSearchers(e),n=r.tokenSearchers,o=r.fullSearcher,a=this._search(n,o);return this._computeScore(a),this.options.shouldSort&&this._sort(a),t.limit&&"number"==typeof t.limit&&(a=a.slice(0,t.limit)),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var r=e.split(this.options.tokenSeparator),n=0,o=r.length;n<o;n+=1)t.push(new a(r[n],this.options));return{tokenSearchers:t,fullSearcher:new a(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=this.list,n={},o=[];if("string"==typeof r[0]){for(var a=0,i=r.length;a<i;a+=1)this._analyze({key:"",value:r[a],record:a,index:a},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t});return o}for(var s=0,u=r.length;s<u;s+=1)for(var c=r[s],l=0,f=this._keyNames.length;l<f;l+=1){var p=this._keyNames[l];this._analyze({key:p,value:this.options.getFn(c,p),record:c,index:s},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t})}return o}},{key:"_analyze",value:function(e,t){var r=this,n=e.key,o=e.arrayIndex,a=void 0===o?-1:o,i=e.value,s=e.record,c=e.index,l=t.tokenSearchers,f=void 0===l?[]:l,p=t.fullSearcher,h=t.resultMap,d=void 0===h?{}:h,v=t.results,y=void 0===v?[]:v;!function e(t,o,a,i){if(null!=o)if("string"==typeof o){var s=!1,c=-1,l=0;r._log("\nKey: ".concat(""===n?"--":n));var h=p.search(o);if(r._log('Full text: "'.concat(o,'", score: ').concat(h.score)),r.options.tokenize){for(var v=o.split(r.options.tokenSeparator),m=v.length,g=[],b=0,w=f.length;b<w;b+=1){var k=f[b];r._log('\nPattern: "'.concat(k.pattern,'"'));for(var S=!1,x=0;x<m;x+=1){var O=v[x],_=k.search(O),j={};_.isMatch?(j[O]=_.score,s=!0,S=!0,g.push(_.score)):(j[O]=1,r.options.matchAllTokens||g.push(1)),r._log('Token: "'.concat(O,'", score: ').concat(j[O]))}S&&(l+=1)}c=g[0];for(var P=g.length,C=1;C<P;C+=1)c+=g[C];c/=P,r._log("Token score average:",c)}var M=h.score;c>-1&&(M=(M+c)/2),r._log("Score average:",M);var E=!r.options.tokenize||!r.options.matchAllTokens||l>=f.length;if(r._log("\nCheck Matches: ".concat(E)),(s||h.isMatch)&&E){var T={key:n,arrayIndex:t,value:o,score:M};r.options.includeMatches&&(T.matchedIndices=h.matchedIndices);var N=d[i];N?N.output.push(T):(d[i]={item:a,output:[T]},y.push(d[i]))}}else if(u(o))for(var L=0,A=o.length;L<A;L+=1)e(L,o[L],a,i)}(a,i,s,c)}},{key:"_computeScore",value:function(e){this._log("\n\nComputing score:\n");for(var t=this._keyWeights,r=!!Object.keys(t).length,n=0,o=e.length;n<o;n+=1){for(var a=e[n],i=a.output,s=i.length,u=1,c=0;c<s;c+=1){var l=i[c],f=l.key,p=r?t[f]:1,h=0===l.score&&t&&t[f]>0?Number.EPSILON:l.score;u*=Math.pow(h,p)}a.score=u,this._log(a)}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var r=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===n(t)&&null!==t){if(-1!==r.indexOf(t))return;r.push(t)}return t}),2)),r=null}var o=[];this.options.includeMatches&&o.push((function(e,t){var r=e.output;t.matches=[];for(var n=0,o=r.length;n<o;n+=1){var a=r[n];if(0!==a.matchedIndices.length){var i={indices:a.matchedIndices,value:a.value};a.key&&(i.key=a.key),a.hasOwnProperty("arrayIndex")&&a.arrayIndex>-1&&(i.arrayIndex=a.arrayIndex),t.matches.push(i)}}})),this.options.includeScore&&o.push((function(e,t){t.score=e.score}));for(var a=0,i=e.length;a<i;a+=1){var s=e[a];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),o.length){for(var u={item:s.item},c=0,l=o.length;c<l;c+=1)o[c](s,u);t.push(u)}else t.push(s.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&o(t.prototype,r),e}();e.exports=c},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(2),a=r(3),i=r(6),s=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,a=r.distance,s=void 0===a?100:a,u=r.threshold,c=void 0===u?.6:u,l=r.maxPatternLength,f=void 0===l?32:l,p=r.isCaseSensitive,h=void 0!==p&&p,d=r.tokenSeparator,v=void 0===d?/ +/g:d,y=r.findAllMatches,m=void 0!==y&&y,g=r.minMatchCharLength,b=void 0===g?1:g,w=r.includeMatches,k=void 0!==w&&w;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:c,maxPatternLength:f,isCaseSensitive:h,tokenSeparator:v,findAllMatches:m,includeMatches:k,minMatchCharLength:b},this.pattern=h?t:t.toLowerCase(),this.pattern.length<=f&&(this.patternAlphabet=i(this.pattern))}var t,r;return t=e,(r=[{key:"search",value:function(e){var t=this.options,r=t.isCaseSensitive,n=t.includeMatches;if(r||(e=e.toLowerCase()),this.pattern===e){var i={isMatch:!0,score:0};return n&&(i.matchedIndices=[[0,e.length-1]]),i}var s=this.options,u=s.maxPatternLength,c=s.tokenSeparator;if(this.pattern.length>u)return o(e,this.pattern,c);var l=this.options,f=l.location,p=l.distance,h=l.threshold,d=l.findAllMatches,v=l.minMatchCharLength;return a(e,this.pattern,this.patternAlphabet,{location:f,distance:p,threshold:h,findAllMatches:d,minMatchCharLength:v,includeMatches:n})}}])&&n(t.prototype,r),e}();e.exports=s},function(e,t){var r=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(r,"\\$&").replace(n,"|")),a=e.match(o),i=!!a,s=[];if(i)for(var u=0,c=a.length;u<c;u+=1){var l=a[u];s.push([e.indexOf(l),l.length-1])}return{score:i?.5:1,isMatch:i,matchedIndices:s}}},function(e,t,r){var n=r(4),o=r(5);e.exports=function(e,t,r,a){for(var i=a.location,s=void 0===i?0:i,u=a.distance,c=void 0===u?100:u,l=a.threshold,f=void 0===l?.6:l,p=a.findAllMatches,h=void 0!==p&&p,d=a.minMatchCharLength,v=void 0===d?1:d,y=a.includeMatches,m=void 0!==y&&y,g=s,b=e.length,w=f,k=e.indexOf(t,g),S=t.length,x=[],O=0;O<b;O+=1)x[O]=0;if(-1!==k){var _=n(t,{errors:0,currentLocation:k,expectedLocation:g,distance:c});if(w=Math.min(_,w),-1!==(k=e.lastIndexOf(t,g+S))){var j=n(t,{errors:0,currentLocation:k,expectedLocation:g,distance:c});w=Math.min(j,w)}}k=-1;for(var P=[],C=1,M=S+b,E=1<<(S<=31?S-1:30),T=0;T<S;T+=1){for(var N=0,L=M;N<L;)n(t,{errors:T,currentLocation:g+L,expectedLocation:g,distance:c})<=w?N=L:M=L,L=Math.floor((M-N)/2+N);M=L;var A=Math.max(1,g-L+1),B=h?b:Math.min(g+L,b)+S,q=Array(B+2);q[B+1]=(1<<T)-1;for(var D=B;D>=A;D-=1){var R=D-1,F=r[e.charAt(R)];if(F&&(x[R]=1),q[D]=(q[D+1]<<1|1)&F,0!==T&&(q[D]|=(P[D+1]|P[D])<<1|1|P[D+1]),q[D]&E&&(C=n(t,{errors:T,currentLocation:R,expectedLocation:g,distance:c}))<=w){if(w=C,(k=R)<=g)break;A=Math.max(1,2*g-k)}}if(n(t,{errors:T+1,currentLocation:g,expectedLocation:g,distance:c})>w)break;P=q}var I={isMatch:k>=0,score:0===C?.001:C};return m&&(I.matchedIndices=o(x,v)),I}},function(e,t){e.exports=function(e,t){var r=t.errors,n=void 0===r?0:r,o=t.currentLocation,a=void 0===o?0:o,i=t.expectedLocation,s=void 0===i?0:i,u=t.distance,c=void 0===u?100:u,l=n/e.length,f=Math.abs(s-a);return c?l+f/c:f?1:l}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[],n=-1,o=-1,a=0,i=e.length;a<i;a+=1){var s=e[a];s&&-1===n?n=a:s||-1===n||((o=a-1)-n+1>=t&&r.push([n,o]),n=-1)}return e[a-1]&&a-n>=t&&r.push([n,a-1]),r}},function(e,t){e.exports=function(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var o=0;o<r;o+=1)t[e.charAt(o)]|=1<<r-o-1;return t}},function(e,t){var r=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},n=function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)},o=function(e){return"string"==typeof e},a=function(e){return"number"==typeof e};e.exports={get:function(e,t){var i=[];return function e(t,s){if(s){var u=s.indexOf("."),c=s,l=null;-1!==u&&(c=s.slice(0,u),l=s.slice(u+1));var f=t[c];if(null!=f)if(l||!o(f)&&!a(f))if(r(f))for(var p=0,h=f.length;p<h;p+=1)e(f[p],l);else l&&e(f,l);else i.push(n(f))}else i.push(t)}(e,t),i},isArray:r,isString:o,isNum:a,toString:n}}])}});